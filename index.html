<!DOCTYPE html>
<html>
<head>
  <link href="style.css" rel="stylesheet">
  <title>Animation Controller</title>
</head>
<body>

  <script src="http://code.createjs.com/easeljs-0.6.0.min.js"></script>
  <script src="http://code.createjs.com/tweenjs-0.4.0.min.js"></script>
  <script src="http://code.createjs.com/movieclip-0.6.0.min.js"></script>
  <script src="http://code.createjs.com/preloadjs-0.3.0.min.js"></script>
  <script type="text/javascript" src="scripts/libs/createjs.min.js"></script>
  <script type="text/javascript" src="scripts/libs/jquery-3.3.1.min.js"></script>

  <script type="text/javascript" src="scripts/animation_controller.js"></script>
  <script type="text/javascript" src="scripts/animation_controller_helper.js"></script>
  <script type="text/javascript" src="scripts/assets-manager.js"></script>
  <script type="text/javascript" src="scripts/animation_controller-test.js"></script>
  
  <div class="animator-controller" data-animator='assets/trener/, assets/scarfman/'>
  
  <div id="anim1" class="animator-container" data-animator='{
    "animation_name": "Trener", 
    "label_start": "Clocks",
    "label_end": "static",
    "loop": 10, 
    "container_width": 300, 
    "container_height": 300,
    "scale": "none",
    "show_debug": true, 
    "onfinish": { "animation_name": "trener", "label":"run" }}'>
  </div>

  <div id="anim2" class="animator-container" data-animator='{
    "animation_name": "Scarfman",
    "scale": "none",
    "loop": 3,
    "container_width": 300, 
    "container_height": 200,
    "show_debug": false }'>
  </div>
    
  </div>
</body>
</html>

<!-- <script>
  
  $(function(){
    var $element = $('.animator-controller');
    if( !$element ) return;

    $element.each(function(i,e){
      var $e = $(e);
      var el_data = $e.data('animator');
      el_data = JSON.parse( el_data );

      if( !el_data.assets_path ) return;

      $.getJSON(function() el_data.assets_path+'config.json', function (_data) {
        if( !_data ) return;
          _data = Object.assign( _data, el_data );
          new Animator( _data );
      });  
    });
    
  });


  $('.btn').click(function(){
    $(window).trigger('animator:play', {container:'anim1',animation:'trener',label:'start-label:end-label'});
  });

  $(window).on('animator:label-changed', function(e,data){
    if( data.container == 'anim1' && data.prev_label == 'run'){
      $(window).trigger('animator:play', {container:'anim1',animation:'trener',label:'start-label:end-label'});   
    }
  })

  

// bit per second
// fps

</script> -->